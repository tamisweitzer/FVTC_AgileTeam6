@model IEnumerable<BandZone.BL.Musician>

@{
    ViewBag.Title = "Musician Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- Header - set the background image for the header in the line below -->
<div class="banner_list">
    <div class="bg-image-full" style="background-image: url('../../images/guitar.jpg');">
        <h1 class="centered display-2 font-weight-bold text-white">Bands & Musicians</h1>
    </div>
</div>



<div class="musician-index-wrapper">

    @using (Html.BeginForm("Index", "Musician"))
    {
        @Html.Hidden("input_genre", (object)ViewBag.GenreId)
        <p class="search-box">
            @Html.TextBox("searchString", "", new {@class="form-control d-inline-block mr-3", placeholder="Search for a musician..."  }) 
            <input type="submit" value="Search" class="btn" />
        </p>
    }

    <!-- List of Genres -->
    <div class="buttons-genre">
        <div class="sidebyside btn btn-large btn-light">@Html.ActionLink("Show All", "Index", "Musician")</div>
        <div class="sidebyside">@{ Html.RenderAction("Sidebar", "Genre"); }</div>
    </div>

    <table class="table table-striped ">
        <tr>
            @*<th>
                    @Html.DisplayNameFor(model => model.BandMusicianName)
                </th>*@

            <th><!-- image --></th>
            <th> @Html.ActionLink("Musician Name", "Index", new { sortOrder = ViewBag.NameSort })</th>
            <th>Website</th>

        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                   <img src="@("../images/musician_" + item.MusicianId + ".jpg")" style="width: 135px; height: 100px;"  />
                </td>
                <td>
                    @Html.ActionLink(item.BandMusicianName, "Details", "Musician", new { Id = item.MusicianId }, null)
                </td>
                <td>
                    <!-- TODO website link -->
                    <!-- the full http:// protocol must be included in the link
                        otherwise link will go to ~/url
                    -->
                    <a href="http://@Html.DisplayFor(ModelItem => item.Website)">@Html.DisplayFor(ModelItem => item.Website)</a>
                </td>
            </tr>
        }
    </table>

    <div class="musician-call-to-action">
        <h3>Sign up your Band</h3>
        <p class="text-secondary">If you are a band or a musician and would like to join BandZone, sign up now.</p>
        <button class="btn btn-large">@Html.ActionLink("Create an account", "Create")</button>
    </div>
</div>




